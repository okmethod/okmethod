# アーキテクチャ設計の心得

## 大原則： 正解を探すのではなく、ベターな最適解を選び抜く！

- 正解のアーキテクチャ（銀の弾丸）は存在せず、その時点で最も良い（悪くない）ものを選ぶしかない
- 考慮すべき品質特性(-ility) を知り、トレードオフを踏まえて意思決定する
- すべての具体的なアーキテクチャは個別解であり、それを考えるために一般解(アーキテクチャパターン) を知る
- 良い設計とは、状況の変化に合わせて変化（進化）させやすい設計である
- 「なぜこの設計にしたのか」という背景と根拠を記録し、将来の変更に備える

## [style: どのようにスタイル・技術を選定するか](./01-style.md)

コンセプト: **_強力なアーキテクチャスタイルと技術スタックの選定ポイントを押さえ、変更しづらい決定を慎重に行う_**

トピック:

- アーキテクチャスタイル選定: 組織の規模とフェーズに合わせて、システムの分割単位（デプロイメント単位）を決める
- 技術選定: 「新しさ」ではなく「信頼性」と「習熟度」で技術を選ぶ
- インフラ構築: 手作業を排除し、再現可能なインフラを作ることをデプロイ戦略に組み込む

## [structure: どのようにシステムを構成するか](./02-structure.md)

コンセプト: **_適切なインプットを揃え、唯一無二の個別解を導き出す_**

トピック:

- レイヤー設計: 責務を分離し、依存の方向を制御して、テスト容易性と変更容易性を高める
- モジュール分割とディレクトリ構成: 技術的な役割ではなく、ビジネス的な意味（機能）でコードをまとめる
- データモデル配置: ドメインの知識をどこに置くかを明確にする

## [mechanics: どのように品質特性のバランスをとるか](./03-mechanics.md)

コンセプト: **_トレードオフの力学を理解し、システムに求められる品質特性(-ility)を実現する_**

トピック:

- 整合性と信頼性: 分散システムにおける「完全な整合性」を諦め、現実的な解を選ぶ
- 可観測性: 「何が起きているか」ではなく「なぜ起きているか」を知るための仕組みを入れる
- セキュリティと回復性: 「安全である」と過信せず、「侵害される前提」で設計する

## 参考

- [O'Reilly Japan ソフトウェアアーキテクチャの基礎](https://www.oreilly.co.jp//books/9784873119823/)
- [O'Reilly Japan データ指向アプリケーションデザイン](https://www.oreilly.co.jp/books/9784873118703/)
- [アーキテクチャを設計するといふこと 2025 年版](https://www.docswell.com/s/tyonekubo/ZX63WR-architecting-2025)
